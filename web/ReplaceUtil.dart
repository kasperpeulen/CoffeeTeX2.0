part of main;

class ReplaceUtil {
  Storage storage = window.localStorage;
  Map replaceMap;
  Map mapSavedByUser;


  ReplaceUtil() {
    if (storage["replaceMap"] == null) {

      replaceMap = defaultReplaceMap;
    } else {
      mapSavedByUser = JSON.decode(storage["replaceMap"]);
      replaceMap = mapSavedByUser;
    }
  }

  void saveReplaceList(List replaceList) {
    if (storage["replaceMap"] == null) {
      mapSavedByUser = defaultReplaceMap; }
    else {
      mapSavedByUser = JSON.decode(storage["replaceMap"]);
    }
    mapSavedByUser[textAreaUtil.selectedText] = replaceList;
    storage["replaceMap"] = JSON.encode(mapSavedByUser);
    replaceMap = mapSavedByUser;
  }

  List<List> getReplaceList(String oldChar) {
    List list = new List();
    for (var char in replaceMap[oldChar]) {
      if (char is String) {
        list.add([char,0]);
      } else {
        list.add(char);
      }
    }
    return list;
  }


  static Map defaultReplaceMap = {
      'weier' :
      ['â…âˆ‘_{n=1}^âˆ f_{n} " uniform convergent op \$A\$" â†µ \nâ‡‘ â†µ\nâˆƒ(a_{n})>0 : â†µ\n|f_{n}(z)|â‰¤a_{n} â–­âˆ€zâˆˆA\  âˆ€nâˆˆâ„• â†µ\nâˆ‘_{n=1}^âˆ a_{n} " is convergent"â†'],

      '>': ['â‰¥','âŸ©','âŠ‡','âŠƒ','â†’','â†¦','â‡’','âŸ¹','âŠ³','\u27F5'],
      '=>' : ['â‡‘','â‡“','â‡•','â‡’','âŸ¹','âŸº','â‡”'],
      'A': ['ğ´','âˆ€','ğ’œ','ğ”„'],
      'B': ['â„¬','ğ”…','â¨'],
      'C': ['â„‚','ğ’','âˆ'],
      'D': ['ğ’Ÿ','ğ”‡','Î”','âˆ©'],
      'E': ['âˆ…','â„°'],
      'F': ['â„±'],
      'G': ['ğ’¢','Î“','ğ”Š','âˆ‡','âˆ ','âˆŸ','âŸ‚','âˆ¥','âˆ¦','âˆ','âŠ¿','âŠ¾','â¦œ','â¦'],
      'H': ['â„‹'],
      'I': ['ğ¼','â„','â„‘','âˆ©','âˆ«','âˆ¬','âˆ­','â¨Œ','âˆ®','âˆ¯','âˆ°'],
      'J': ['ğ’¥','ğ”'],
      'K': ['ğ’¦','ğ”'],
      'L': ['â„’','ğ”','Â¬','âˆ€','âˆƒ','âˆ„','âˆ´','âˆµ','âˆ§','âˆ¨','âŠ¨','âŠ­','â‹€','â‹'],
      'M': ['â„³','ğ”'],
      'N': ['â„•','â„µ','ğ’©','ğ”‘'],
      'O': ['Î©','ğ’ª','âŠ•','âŠ–','âŠ—','âŠ˜','âŠ™','âŠš','âŠ›','âŠœ','âŠ'],
      'P': ['â„™','âˆ','ğ’«','Î ','Î¦','Î¨'],
      'Q': ['â„š','ğ‘„','ğ’¬','âˆ'],
      'R': ['â„','â„›'],
      'S': ['âˆ‘','ğ‘†','Î£','ğ’®','â…€'],
      'T': ['âŠ¤','âŠ¥','âŠ¢','âŠ£','âŠ§','âŠ¨','âŠ©','ğ’¯'],
      'U': ['âˆª','âˆ©','â‹ƒ','â‹‚','ğ‘ˆ','ğ’°','âŠ”','âŠ“','â¨†','â¨…'],
      'V': ['ğ‘‰','ğ’±','Æ²'],
      'W': ['ğ‘Š','ğ’²'],
      'X': ['Î','ğ’³','â¨‰'],
      'Y': ['ğ’´'],
      'Z': ['â„¤','ğ’µ'],
      'a': ['Î±','âˆ€','âˆ§','âˆ ','ğ”'],
      'aa': ['Î±a','âˆ€a','âˆ§','âˆ ','ğ”'],
      'b': ['Î²','ğ‘','ğ”Ÿ'],
      'c': ['Ï‡','ğ” ','â†¯','âˆ®'],
      'd': ['Î´','ğ”¡','âˆ‚','Âº','âˆ¬'],
      'e': ['âˆ…','Ïµ','Îµ','âˆƒ','âˆ„'],
      'f': ['Ï•','Ï†'],
      'g': ['Î³','ğ”¤'],
      'h': ['Î·','ğ”¥','â€ ','â™¡','â™¥'],
      'i': ['âˆˆ','âˆ‰','âˆ','Î¹','âˆ«','âˆ‹','âˆŒ','âˆ©'],
      'j': ['ğ”§'],
      'k': ['e-mail','ğ‘˜','Îº'],
      'l': ['Î»','â„“','ğ”©'],
      'm': ['Î¼','ğ”ª'],
      'n': ['Î½','ğ”«','Â¬','âˆ‡'],
      'o': ['Ï‰','ğ”¬','âˆ¨','Â°'],
      'p': ['Ï€','Ï•','Ï†','Ïˆ','ğ”­'],
      'q': ['ğ”®','âˆ'],
      'r': ['Ï','ğ”¯'],
      's': ['Ïƒ','ğ”°','âˆš','âˆ›','âˆœ','âˆ‘','âˆµ'],
      't': ['Ï„','Î¸','ğ”±','âˆ´'],
      'u': ['â‹ƒ','â‹‚','Ï…','ğ”²','âˆª','âˆ©','âŠ”','âŠ“'],
      'v': ['Ê‹'],
      'w': ['Ï‰','âš '],
      'x': ['ğ‘¥','Î¾','Ã—','â¨‰','âŠ—','â‚“'],
      'y': ['ğ‘¦'],
      'z': ['Î¶'],
      '\$': [['â…â†',-1]],
      '%': ['â€°','â€±'],
      '#': ['â—»','âŠ','âŠŸ','âŠ ','âŠ¡','â§‡','â§ˆ','â§…','â§†'],
      '.': ['â€¦','â‹¯','â‹°','â‹±','â‹®','Â·','âˆ˜','âˆ™'],
      ':': ['âˆ·','â‰','â‰‘','â‰’','â‰“','â‰”','â‰•','âˆº','âˆ»','âˆ´','âˆµ'], //âˆ¶
      '+': ['Â±','âˆ“','âŠ•','â‚Š','âº'],
      '-': ['â€¾','â'], //âœâ´
      '\'': ['\u0301','\u0304','\u0307','\u0309','\u030A','\u20f0'],
      '`': ['\u0300'], //\u20d0\u20d1\u20ec\u20ed',
      '~': ['\u0303','\u0330'],
      '/' : [['()âˆ•()',-4]],
      /*
    '"': '\u0308\u20db\u20dc\u20e8\u20e1\u20e7\u20e9\u0331',
    '_': 'â†™â‚‹â–\u23DF', //â”¬ââµ
    '{': //{ô€€€}
    "â´{ô€€}{ô€€‚}{ô€€ƒ}{ô€€„}", //{ô€€…}{ô€€†}",//'â´âŸ¨âŒˆâŒŠâŸªâŸ¦â¦‡â¦‰',
    '}': //"{ô€€‡}
    "âµ{ô€€ˆ}{ô€€‰}{ô€€Š}{ô€€‹}",//{ô€€Œ}{ô€€}",//'âµâŸ©âŒ‰âŒ‹âŸ«âŸ§â¦ˆâ¦Š',
    '[': //"{ô€€}
    "â…{ô€€‘}{ô€€’}{ô€€“}{ô€€”}",//{ô€€•}{ô€€–}",//'â…â´âŸ¨âŒˆâŒŠâŸ®âŸªâŸ¦â¦‡â¦‰',
    ']': //"{ô€€—}
    "â†{ô€€˜}{ô€€™}{ô€€š}{ô€€›}",//{ô€€œ}{ô€€}",//'â†âµâŸ©âŒ‰âŒ‹âŸ¯âŸ«âŸ§â¦ˆâ¦Š',
    '(' : //'{ô€€¡}
    "â¦…{ô€€¢}{ô€€£}{ô€€¤}{ô€€¥}",//{ô€€¦}{ô€€§}',
    ')' : //'{ô€€¨}
    "â¦†{ô€€©}{ô€€ª}{ô€€«}{ô€€¬}",//{ô€€­}{ô€€®}',
    '|': 'âˆ£âˆ¤âˆ¥âˆ¦',
    '\\': 'âˆ–',
    '/': 'âˆ•â„Ã·Â¦',
    '<': 'â‰¤âŸ¨âŠ†âŠ‚â†â†¤â‡âŸ¸âŠ²',
    '>': 'â‰¥âŸ©âŠ‡âŠƒâ†’â†¦â‡’âŸ¹âŠ³\u27F5',
    '->': 'â†’â†¦â†‘â†“â‡’âŸ¹â‡‘â‡“â‡•\u27F6',
    '=>': 'â‡‘â‡“â‡•â‡’âŸ¹âŸºâ‡”',
    '=': 'â‰\u208Câ‰ â‰ˆâ‰…â‰ƒâ‰¡â†”âŸºâ‡”â‰Ÿâ‰â‰”â‡•\u207C',
    */
  };



}
